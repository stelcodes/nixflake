DIGITAL OCEAN
=======================
Use Ubuntu 18.04.3 (LTS) x64

Set hostname

Enable IPv6

Copy bootstrap.nix into user-data.yml if recently updated
Put user-data.yml in Digital Ocean's "user data" config:

Log files:
/tmp/infect.log
/var/log/cloud-init-output.log

Create new ssh key pair with password:
ssh-keygen -t ed25519

Copy public key:
cat /home/stel/.ssh/id_ed25519.pub

Put it in Github and gitstore server config

Clone config:
doas mkdir -p /config
doas chown stel /config
git clone git@github.com:stelcodes/nixos-config.git /config
mkdir /config/hosts/<hostname>
cp /etc/nixos/* /config/hosts/<hostname>
** if already made configuration.nix, then: **
** doas cp /etc/nixos/hardware-configuration.nix /etc/nixos/networking.nix /config/hosts/<hostname> **
doas rm -rf /etc/nixos
doas ln -s /config/hosts/<hostname> /etc/nixos
doas nixos-rebuild switch --upgrade
doas nix-collect-garbage -d

Edit nix channels (if not set initially):
doas nix-channel --add https://nixos.org/channels/nixos-21.05 nixos
doas nix-channel --update

Rebuild config:
doas nixos-rebuild swith --upgrade

